<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Python Programming Course</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<section class="sub-header">
  <h1>Python Programming Course</h1>
</section>

<section class="topics">
  <h2>Explore Python Programming Topics</h2>
  <div id="topics-list" class="topics-container"></div>

  <!-- CART SUMMARY -->
  <div class="cart-summary">
    <h3>Total: ₹<span id="total">0</span></h3>
    <button class="pay-btn" onclick="proceedToPay()">Proceed to Pay</button>
  </div>
</section>

<script>
const topics = [
  {name: "Python Basics", desc: "Learn variables, data types, and basic syntax.", time: "5 hrs", price: 499},
  {name: "Control Structures", desc: "If-else, loops, and logical operations.", time: "4 hrs", price: 399},
  {name: "Functions & Modules", desc: "Write reusable code with functions and modules.", time: "6 hrs", price: 599},
  {name: "File Handling", desc: "Read and write files effectively.", time: "3 hrs", price: 299},
  {name: "Object-Oriented Python", desc: "Classes, objects, inheritance, and more.", time: "7 hrs", price: 699},
  {name: "Python Libraries", desc: "Explore Pandas, NumPy, Matplotlib.", time: "6 hrs", price: 599},
  {name: "Web Scraping", desc: "Extract data from websites using Python.", time: "5 hrs", price: 499},
  {name: "Mini Project", desc: "Apply your Python skills in a small project.", time: "8 hrs", price: 799},
];

let total = 0;
const container = document.getElementById("topics-list");

topics.forEach(t => {
  const div = document.createElement("div");
  div.classList.add("topic-card");
  div.innerHTML = `
    <h3>${t.name}</h3>
    <p>${t.desc}</p>
    <p><b>Duration:</b> ${t.time}</p>
    <p><b>Price:</b> ₹${t.price}</p>
    <button onclick="addToCart(${t.price}, this, '${t.name}')">Add to Cart</button>
  `;
  container.appendChild(div);
});

let cartItems = [];

function addToCart(price, btn, name){
  total += price;
  cartItems.push(name);
  document.getElementById("total").textContent = total;
  btn.textContent = "Added ✓";
  btn.disabled = true;
  localStorage.setItem("cartItems", JSON.stringify(cartItems));
}

function proceedToPay(){
  if(total == 0){
    alert("Please add at least one topic to your cart before proceeding.");
    return;
  }
  localStorage.setItem("cartTotal", total);
  window.location.href = "payment.html";
}
</script>

</body>
</html>
